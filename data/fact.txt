CALL EldenLord:
HLT

; Preparation
PUSH 0
POP BX

; FUNCTION DEFINITION
EldenLord:


PUSH BX
PUSH 2
PUSH BX
ADD
POP BX
ELEM_IN
POP [BX+0]

; Assignment
;CALL
PUSH [BX+0]

CALL FACTORIAL:
PUSH AX
; CALL END
POP [BX+1]

; Assignment End
PUSH [BX+1]
ELEM_OUT

; RETURN
PUSH 0.000000
POP AX
POP BX
RTN

; FUNCTION DEFINITION
FACTORIAL:

POP [BX+0]

PUSH BX
PUSH 2
PUSH BX
ADD
POP BX

; IF
; condition
PUSH [BX+0]

; test condition
PUSH 0
 JA endif0:
; body

; RETURN
PUSH 1.000000
POP AX
POP BX
RTN

endif0:

; Assignment
PUSH [BX+0]
POP [BX+1]

; Assignment End

; Assignment
PUSH [BX+0]
PUSH 1.000000

SUB
POP [BX+0]

; Assignment End

; Assignment
PUSH [BX+1]
;CALL
PUSH [BX+0]

CALL FACTORIAL:
PUSH AX
; CALL END

MUL
POP [BX+1]

; Assignment End

; RETURN
PUSH [BX+1]
POP AX
POP BX
RTN
